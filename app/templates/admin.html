{% extends "base.html" %}

{% block hero %}
  <section>
    <h1>Admin Console</h1>
    <p class="article-meta">Review generated content. Removal actions will be available soon.</p>
  </section>
{% endblock %}

{% block content %}
  <style>
    .admin-table-actions form {
      display: inline;
    }
    .admin-table-actions button {
      margin: 0;
    }
  </style>

  <section>
    <header>
      <h2>Articles</h2>
      <p class="article-meta">Latest drafts currently stored in the repository.</p>
    </header>
    {% if articles %}
      <table>
        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Published</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for article in articles %}
            <tr>
              <td>{{ article.title }}</td>
              <td>{{ article.published_date.strftime("%B %d, %Y") if article.published_date else "—" }}</td>
              <td class="admin-table-actions">
                <form method="post" action="/admin/articles/{{ article.id }}/delete">
                  <button type="submit">Delete</button>
                </form>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No articles available.</p>
    {% endif %}
  </section>

  <section>
    <header>
      <h2>Tips</h2>
      <p class="article-meta">Latest coaching tips generated by the pipeline.</p>
    </header>
    {% if tips %}
      <table>
        <thead>
          <tr>
            <th scope="col">Title</th>
            <th scope="col">Published</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for tip in tips %}
            <tr>
              <td>{{ tip.title }}</td>
              <td>{{ tip.published_date.strftime("%B %d, %Y") if tip.published_date else "—" }}</td>
              <td class="admin-table-actions">
                <form method="post" action="/admin/tips/{{ tip.id }}/delete">
                  <button type="submit">Delete</button>
                </form>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No tips available.</p>
    {% endif %}
  </section>
{% endblock %}
